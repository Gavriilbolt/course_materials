Базовый образ ubuntu:18.04 выбран намеренно старым – это увеличит количество известных уязвимостей в системе.

Устанавливается пакет openssh-server и настраивается пароль для пользователя root (password для демонстрации) с разрешением входа root по SSH (PermitRootLogin yes). Это грубое нарушение принципа минимальных привилегий и политики контроля доступа.

Порт 22 объявлен посредством EXPOSE – далее мы пробросим его наружу.

Контейнер запускает SSH-сервер. В итоге можно будет удаленно подключиться по SSH напрямую под root.