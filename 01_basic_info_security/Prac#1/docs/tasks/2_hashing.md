<h2 style="text-align:center;"><span style="color:#a03881;">–ß–∞—Å—Ç—å 2:</span> –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö&nbsp;</h2>

<h3><span style="color:#a03881;">üéØ –¶–µ–ª—å:</span></h3>

<p>–£—Å—Ç—Ä–∞–Ω–∏—Ç—å —Ä–∏—Å–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –í—Å–µ –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞—Ö—ç—à–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (bcrypt –∏–ª–∏ argon2).</p>

<h3><span style="color:#a03881;">üìå –≠—Ç–∞–ø 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL</span></h3>

<p>–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (–∏–ª–∏ PowerShell, –µ—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ Windows) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:</p>

<pre><code>psql -h localhost -U bookvault -d bookvault_db -p 5432
</code></pre>

<ul>
	<li>
	<p><code>-h localhost</code> ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</p>
	</li>
	<li>
	<p><code>-U bookvault</code> ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
	</li>
	<li>
	<p><code>-d bookvault_db</code> ‚Äî –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</p>
	</li>
	<li>
	<p><code>-p 5432</code> ‚Äî –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç PostgreSQL</p>
	</li>
</ul>

<p>–ü–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è <code>bookvault</code>. <strong>–ü–∞—Ä–æ–ª—å&nbsp;<code>secret</code></strong></p>

<h3><span style="color:#a03881;">üìå –≠—Ç–∞–ø 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π</span></h3>

<p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</p>

<pre><code>SELECT id, username, password FROM users;
</code></pre>

<p>–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>password123</code>), —ç—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</p>

<blockquote>
<p><strong>üîí –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong><br>
<strong>–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–∞–±–æ—Ä –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, —á—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –Ω–µ —Å–º–æ–≥ –µ—ë –ø—Ä–æ—á–∏—Ç–∞—Ç—å. –¢–æ–ª—å–∫–æ —Ç–æ—Ç, —É –∫–æ–≥–æ –µ—Å—Ç—å "–∫–ª—é—á", —Å–º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë –æ–±—Ä–∞—Ç–Ω–æ.</p>

<p>–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç <strong>—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è</strong>, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–Ω–æ "—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å", –∞ —Ö–µ—à ‚Äî <strong>–Ω–µ–ª—å–∑—è –≤–µ—Ä–Ω—É—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –ø–∞—Ä–æ–ª—å</strong>.</p>

<p><strong>–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —ç—Ç–æ –∫–∞–∫ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –±–ª–µ–Ω–¥–µ—Ä:<br>
—Ç—ã –∫–∏–¥–∞–µ—à—å —Ç—É–¥–∞ –ø–∞—Ä–æ–ª—å, –æ–Ω –ø–µ—Ä–µ–º–∞–ª—ã–≤–∞–µ—Ç –µ–≥–æ –≤ "–∫–∞—à—É" ‚Äî –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –≤—Ä–æ–¥–µ <code>"$2b$12$abc...xyz"</code>.<br>
üîÅ <strong>–í–µ—Ä–Ω—É—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –ø–∞—Ä–æ–ª—å —É–∂–µ –Ω–µ–ª—å–∑—è.</strong></p>

<h4>–ù–æ –∫–∞–∫ –∂–µ —Ç–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –≤—Ö–æ–¥–µ?</h4>

<p>–ü—Ä–∏–º–µ—Ä:</p>

<ol>
	<li>
	<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–∞—Ä–æ–ª—å: <code>mySecret123</code></p>
	</li>
	<li>
	<p>–°–∏—Å—Ç–µ–º–∞ <strong>–∑–∞–Ω–æ–≤–æ —Ö–µ—à–∏—Ä—É–µ—Ç</strong> —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å ‚Üí –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, <code>"$2b$12$abc..."</code></p>
	</li>
	<li>
	<p>–°–∏—Å—Ç–µ–º–∞ <strong>—Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç</strong> —ç—Ç–æ—Ç –Ω–æ–≤—ã–π —Ö–µ—à —Å —Ç–µ–º, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ.</p>

	<ul>
		<li>
		<p>–ï—Å–ª–∏ <strong>—Å–æ–≤–ø–∞–ª–∏</strong> ‚Äî –ø–∞—Ä–æ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.</p>
		</li>
		<li>
		<p>–ï—Å–ª–∏ <strong>—Ä–∞–∑–Ω—ã–µ</strong> ‚Äî –¥–æ—Å—Ç—É–ø –Ω–µ –¥–∞—ë—Ç—Å—è.</p>
		</li>
	</ul>
	</li>
</ol>
</blockquote>

<p>&nbsp;</p>

<h3><span style="color:#a03881;">üìå –≠—Ç–∞–ø 3: –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ <code>seed.py</code></span></h3>

<ol>
	<li>
	<p>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª <code>app/seed.py</code></p>
	</li>
	<li>
	<p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å <code>bcrypt</code>:</p>
	</li>
</ol>

<pre><code>import bcrypt
</code></pre>

<ol>
	<li>
	<p>–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:</p>
	</li>
</ol>

<pre><code>user = User(username='alice', password='password')
</code></pre>

<p>–Ω–∞:</p>

<pre><code>hashed = bcrypt.hashpw('password'.encode('utf-8'), bcrypt.gensalt())
user = User(username='alice', password=hashed.decode('utf-8'))
</code></pre>

<ol>
	<li>
	<p>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –∑–∞—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏.</p>
	</li>
</ol>

<h3><span style="color:#a03881;">üìå –≠—Ç–∞–ø 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span></h3>

<p>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª <code>models.py</code> –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä—å—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–µ <code>password</code> –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–º–µ–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª–∏–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>String(128)</code> –∏–ª–∏ –±–æ–ª—å—à–µ).</p>

<h3><span style="color:#a03881;">üìå –≠—Ç–∞–ø 5: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–µ—à–∞ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ</span></h3>

<p>–í —Ñ–∞–π–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–∏–Ω–∞ (<code>admin/views.py</code>), –∑–∞–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–∞—Ä–æ–ª—è:</p>

<p><strong>–ë—ã–ª–æ:</strong></p>

<pre><code>if user and user.password == input_password:
</code></pre>

<p><strong>–°—Ç–∞–ª–æ:</strong></p>

<pre><code>import bcrypt

if user and bcrypt.checkpw(input_password.encode('utf-8'), user.password.encode('utf-8')):
</code></pre>

<h3><span style="color:#a03881;">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</span></h3>

<p>–¢–µ–ø–µ—Ä—å –ø–∞—Ä–æ–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ö–µ—à–∞. –î–∞–∂–µ –µ—Å–ª–∏ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ <code>users</code>, –æ–Ω –Ω–µ —É–∑–Ω–∞–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–∞—Ä–æ–ª–∏.</p>

<h2>&nbsp;</h2>